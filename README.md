
# 차 vs 대중교통 | 금융 의사결정 서비스

연봉과 보유 자산을 기반으로 자가용과 대중교통의 총비용을 비교하고, 감가상각·손익분기점까지 분석하여 최적의 교통수단을 추천하는 웹 서비스입니다.

자가용이 유리하면 **예산별 맞춤 차량 구매 서비스**를, 대중교통이 유리하면 **절약 금액 기반 투자 전략과 주식/ETF 추천**을 제공합니다.

---

## 문제 정의

### 핵심 문제

> "자가용을 살까, 대중교통을 탈까?"

사회 초년생과 직장인들은 생애 첫 차 구매 시 할부금만을 주요 비용으로 고려하는 경향이 있습니다. 하지만 실제 자동차 소유 비용은 보험료, 세금, 감가상각, 기회비용 등 눈에 보이지 않는 숨겨진 비용(Hidden Cost)이 전체의 50% 이상을 차지합니다. 본 서비스는 감정적 결정이 아닌, 객관적인 수치에 근거한 교통수단 선택을 돕고자 합니다.

### 측정 가능한 목표

| 목표 | 측정 지표 |
|---|---|
| 총비용 정밀 비교 | 자가용 7개 항목 vs 대중교통 2개 항목 연간/월간 비용 |
| 손익분기점 도출 | 15년간 누적 순비용 교차 시점 (중고차 잔존가치 반영) |
| 재정 부담률 분석 | 연봉 대비 비용 비율, 자산 대비 차량 가격 비율 |
| 맞춤 추천 제공 | 차량 구매 서비스 또는 투자 전략 (성향별 포트폴리오) |

### 사용자 시나리오

**페르소나**: 연봉 4,000만원, 자산 3,000만원, 편도 통근 15km의 직장인

1. 랜딩 페이지에서 서비스 개요를 확인하고 "분석 시작" 클릭
2. 연봉, 자산, 월 지출, 통근 거리, 희망 차량 가격 입력 (할부 옵션, 운영비 상세 설정 가능)
3. 결과 페이지에서 자가용(월 약 87만원) vs 대중교통(월 약 17만원) 비교 확인
4. 손익분기점 차트로 15년간 누적 순비용 추이 확인 (중고차 잔존가치 차감 반영)
5. "대중교통 추천" 결과를 받고 → 투자 전략 페이지로 이동
6. 월 약 70만원 절약분의 투자 포트폴리오와 추천 종목 확인
7. "다시 분석하기" 클릭 시 이전 입력값이 그대로 유지됨 (세션 저장)

### 엣지 케이스 처리

| 상황 | 처리 방안 |
|---|---|
| 자산 1,000만원 미만 | 차량 구매 최소 자산 미달로 대중교통 강력 추천 |
| 연봉 대비 자가용 비용 30% 초과 | 재정 부담 경고 표시 |
| 편도 통근 30km 이상 | 장거리 가산점으로 자가용 유리 반영 |
| 월 여유자금 < 자가용 월비용 | 지출 초과 경고 및 대중교통 추천 |
| 입력값 미입력/이상치 | 첫 번째 에러 필드로 자동 스크롤 + 포커스 이동 |
| localStorage 없음 | 결과/추천 페이지 접근 시 입력 페이지로 리다이렉트 |
| 재분석 시 입력값 유실 | sessionStorage로 폼 상태 자동 보존 |

---

## 핵심 기능

### 1. 정보 입력 (`/input`)
- 기본 정보: 연봉, 자산, 월 지출, 통근 거리, 통근 횟수, 희망 차량 가격
- 구매 방식: 일시불/할부 선택 (선수금 비율, 할부 기간, 이자율 퀵 버튼 + 직접 입력)
- 운영비 상세 설정: 연비, 보험료, 자동차세, 정비비, 주차비, 기타비용 (기본값 제공, 접이식 패널)
- 입력값 세션 보존: 재분석 시 이전 입력값 자동 복원 (sessionStorage)
- 유효성 검증: 미입력 시 첫 번째 에러 필드로 자동 스크롤 + 포커스

### 2. 비용 비교 분석 (`/result`)
- 자가용 7개 비용 항목 (감가상각, 유류비, 보험료, 자동차세, 정비비, 주차비, 기타)
- 대중교통 2개 비용 항목 (정기권, 택시 보조비)
- 월간/연간 비용 비교 카드

### 3. 손익분기점 시각화 (`/result`)
- Recharts 라인차트로 15년간 누적 순비용 추이
- 차량 잔존가치(중고차 매각가) 차감한 순비용 비교
- 연도별 현실적 감가상각률 적용 (10년 이상 운행 추세 반영)
- 교차 시점(손익분기점) 하이라이트

### 4. 재정 부담률 분석 (`/result`)
- 연봉 대비 자가용 연간비용 비율 (권장 30% 이하)
- 자산 대비 차량 가격 비율 (권장 50% 이하)
- 게이지 바로 시각화

### 5. 차량 구매 추천 (`/car`)
- 4개 가격대별 추천 차량 (경차~프리미엄)
- 차량별 가격, 연비, 자동차세, 예상 월비용 표시
- 할부 계산기 (선수금, 기간, 이자율 조절)

### 6. 투자 전략 추천 (`/invest`)
- 절약 금액 기반 월 투자 가능 금액 산출
- 3가지 투자 성향별 포트폴리오 (안정형/균형형/성장형)
- 추천 ETF: KODEX 200, TIGER 미국S&P500, KODEX 2차전지산업 등
- 추천 개별주: 삼성전자, SK하이닉스, 현대자동차, NAVER, 카카오
- 안전자산: 정기예금, 적금, 국고채 ETF
- 10년 복리 예상 자산 계산
- 투자 유의사항 면책조항

---

## 기술 스택

| 영역 | 기술 |
|---|---|
| 프레임워크 | Next.js 16 (App Router) |
| UI | React 19, Tailwind CSS 4 |
| 차트 | Recharts 2 |
| 상태 관리 | React useState + localStorage + sessionStorage |
| 빌드 | Turbopack |
| 린트 | ESLint |

---

## 프로젝트 구조

```
src/
├── app/                        # 페이지 라우트
│   ├── page.js                 # 랜딩 페이지
│   ├── layout.js               # 루트 레이아웃 (Header, Footer)
│   ├── globals.css             # 글로벌 스타일
│   ├── input/page.js           # 정보 입력 페이지
│   ├── result/page.js          # 비용 분석 결과 페이지
│   ├── car/page.js             # 차량 추천 페이지
│   └── invest/page.js          # 투자 추천 페이지
├── components/                 # UI 컴포넌트
│   ├── common/                 # 공통 (Header, Footer, StepIndicator, Disclaimer)
│   ├── input/InputForm.js      # 사용자 입력 폼
│   ├── result/                 # 결과 대시보드, 비용비교, 차트, 추천배너
│   ├── car/                    # 차량추천, 할부계산기
│   └── invest/                 # 투자전략, 주식추천, 자산배분차트
├── libs/
│   └── calculation-engine.js   # 핵심 비용 계산 엔진
├── data/
│   ├── cost-constants.js       # 비용 상수 (한국 기준 2024~2025)
│   ├── car-data.js             # 차량 데이터 (가격대별 12종)
│   └── investment-data.js      # 투자 상품 데이터 (ETF, 주식, 예금, 채권)
└── utils/
    └── format.js               # 숫자/통화 포맷 유틸리티
```

---

## 핵심 계산 로직

### 자가용 연간 비용

```
감가상각  = 차량가격 × (전년도 잔존가치율 - 당해 잔존가치율)
            잔존가치율: 1년 82%, 5년 48%, 10년 26%, 15년 16% (한국 중고차 시장 기준)
유류비    = (편도거리 × 2 × 주당횟수 × 52주) ÷ 연비(기본 12.5km/L) × 유가(1,650원/L)
보험료    = 차량가격 × 3.5% (min 60만원, max 200만원) 또는 사용자 직접 입력
자동차세  = 가격대별 30~65만원 또는 사용자 직접 입력
정비비    = 연 80만원 (사용자 조정 가능)
주차비    = 월 12만원 × 12 (사용자 조정 가능)
기타      = 월 5만원 × 12 (사용자 조정 가능)
```

### 대중교통 연간 비용

```
정기권    = 월 6.5만원 × 12
택시보조  = 통근거리 기반 월 5~15만원 × 12
```

### 추천 결정 알고리즘

점수 기반 시스템 (양수: 자가용, 음수: 대중교통):

| 판단 기준 | 자가용 점수 | 대중교통 점수 |
|---|---|---|
| 비용이 더 저렴한 쪽 | +2 | +2 |
| 연봉 대비 부담률 30% 이하/초과 | +1 | -2 |
| 자산 대비 차량가격 50% 이하/초과 | +1 | -2 |
| 편도 30km 이상 / 10km 이하 | +2 | -1 |
| 자산 1,000만원 미만 | - | -3 |
| 월 여유자금 부족 | - | -2 |

---

## 설치 및 실행

### 요구사항

- Node.js 18.18 이상
- npm

### 설치

```bash
git clone <repository-url>
cd myapp
npm install
```

### 개발 서버 실행

```bash
npm run dev
```

브라우저에서 [http://localhost:3000](http://localhost:3000) 접속

### 프로덕션 빌드

```bash
npm run build
npm start
```

---

## 사용자 흐름

```
랜딩 (/)
  │
  ▼
정보 입력 (/input)
  │  연봉, 자산, 월지출, 통근거리, 통근횟수, 희망차량가격
  │  + 구매방식(일시불/할부), 운영비 상세 설정
  ▼
비용 분석 (/result)
  │  비용비교 → 15년 손익분기점(잔존가치 반영) → 부담률 → 추천 결과
  ▼
┌─────────────────┬─────────────────┐
│ 자가용 추천        │ 대중교통 추천      │
│ /car            │ /invest         │
│ 차량목록+할부계산    │ 투자전략+종목추천   │
└─────────────────┴─────────────────┘
```

---

## 면책조항

- 본 서비스에서 제공하는 모든 정보는 **참고용**이며, 실제 비용은 개인 상황에 따라 다를 수 있습니다.
- 투자 정보는 **투자 권유가 아니며**, 투자에 따른 손실은 투자자 본인에게 귀속됩니다.
- 차량 가격 및 유지비 정보는 2024~2025년 기준 평균값입니다.
- 중고차 잔존가치율은 국산차 평균 기준이며, 차종/상태에 따라 실제와 다를 수 있습니다.
